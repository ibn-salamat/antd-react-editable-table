(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{310:function(e,t,a){},311:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(26),r=a.n(c),l=a(59),s=a(46),d=a(313),u=a(113),o=a.n(u),b=a(43),j=a(148),f=a(118),m=a(88),O=a(315),h=a(314),x=a(153),y=a(114),p=a(317),v=a(316),g=a(81),w="text",k="number",I="select",_=a(18);function N(e,t){return e.forEach((function(e,a,n){e.children?N(e.children,t):n[a]=function(e,t){var a=e.dataIndex,n=e.formType,i=e.options,c=e.initialValue,r=e.width,l=e.rules,s=void 0===l?[]:l,d=e.editable,u=e;switch(n){case w:u=Object(b.a)(Object(b.a)({},e),{},{render:function(e,n){return Object(_.jsx)(O.a.Item,{initialValue:e||c,name:"".concat(n.key,"__").concat(a),rules:s,children:Object(_.jsx)(p.a,{disabled:"view"===t||!d,style:{width:r}})})}});break;case k:u=Object(b.a)(Object(b.a)({},e),{},{render:function(e,n){return Object(_.jsx)(O.a.Item,{initialValue:e||c,name:"".concat(n.key,"__").concat(a),rules:s,children:Object(_.jsx)(v.a,{disabled:"view"===t||!d,style:{width:r}})})}});break;case I:u=Object(b.a)(Object(b.a)({},e),{},{render:function(e,n){return Object(_.jsx)(O.a.Item,{initialValue:e||c,name:"".concat(n.key,"__").concat(a),rules:s,children:Object(_.jsx)(g.a,{disabled:"view"===t||!d,options:i,style:{width:r}})})}})}return u}(e,t)})),e}var T=Object(n.forwardRef)((function(e,t){var a=e.columns,i=e.data,c=e.loading,r=e.mode,d=Object(x.useForm)(),u=Object(l.a)(d,1)[0],p=Object(n.useState)([]),v=Object(l.a)(p,2),g=v[0],w=v[1],k=Object(n.useState)(N(Object(f.a)(a),r)),I=Object(l.a)(k,1)[0];function T(){return(T=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.validateFields();case 2:t={key:Object(y.a)()},I.forEach((function(e){var a=e.dataIndex,n=e.initialValue,i=void 0===n?null:n;t[a]=i})),w([].concat(Object(f.a)(g),[t]));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return function(e){return Object.keys(e).reduce((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=a.indexOf("__"),i=a.substring(0,n),c=a.substring(n+2),r=t.find((function(e){return e.id===i}));return r?r[c]=e[a]:t.push(Object(m.a)({id:i},c,e[a])),t}),[])}(u.getFieldsValue())}return Object(n.useImperativeHandle)(t,(function(){return{getTableData:function(){return A()}}})),Object(n.useEffect)((function(){Array.isArray(i)&&w(i.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{key:Object(y.a)()})})))}),[i]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(O.a,{form:u,children:Object(_.jsx)(h.a,{loading:c,id:"custom-antd-editable-table",columns:I,dataSource:g,sticky:!0,className:"custom-antd-editable-table",scroll:{x:"max-content"},pagination:!1})}),Object(_.jsx)("br",{}),"view"!==r&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(s.a,{onClick:function(){return T.apply(this,arguments)},children:"add"}),Boolean(g.length)&&Object(_.jsx)(s.a,{onClick:function(){w(g.slice(0,g.length-1))},children:"delete"})]})]})})),A=[{title:"\u2116",key:"index",width:70,fixed:"left",render:function(e,t,a){return a+1}},{key:"name",title:"Name",dataIndex:"name",formType:w,width:120,initialValue:"Al",editable:!0},{key:"age",title:"Age",dataIndex:"age",formType:k,width:120,editable:!0},{key:"adressInfo",title:"Adress info",children:[{key:"houseInfo",title:"House info",children:[{key:"houseNumber",title:"House number",dataIndex:"houseNumber",formType:k,width:120,editable:!0},{key:"flatNumber",title:"Flat number",dataIndex:"flatNumber",formType:k,width:120,editable:!0}]},{key:"city",title:"City",dataIndex:"city",formType:I,options:[{label:"Atyrau",value:"atyrau_06"},{label:"Almaty",value:"almaty_02"}],initialValue:"atyrau_06",width:120,editable:!0},{key:"street",title:"Street",dataIndex:"street",formType:w,width:120,editable:!0}]}],V=[{age:55,city:"atyrau_06",flatNumber:5454,houseNumber:5454,name:"Al",street:"465464"},{age:654841,city:"almaty_02",flatNumber:646445,houseNumber:4186416541,name:"Aldssdf",street:"68465"}];var F=function(){var e=Object(n.useRef)(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1],r=Object(n.useState)([]),u=Object(l.a)(r,2),o=u[0],b=u[1];return Object(n.useEffect)((function(){c(!0),new Promise((function(){setTimeout((function(){b(V),c(!1)}),1500)}))}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{style:{padding:"10px 15px"},children:[Object(_.jsx)("br",{}),Object(_.jsx)("h1",{children:"Edit mode"}),Object(_.jsx)(T,{columns:A,ref:e}),Object(_.jsx)(s.a,{onClick:function(){var t=e.current.getTableData();console.log(t)},children:"Get data"})]}),Object(_.jsx)(d.a,{}),Object(_.jsxs)("div",{style:{padding:"10px 15px"},children:[Object(_.jsx)("h1",{children:"View mode with props data"}),Object(_.jsx)(T,{columns:A,data:o,loading:i,mode:"view"})]})]})};a(309),a(310);r.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(F,{})}),document.getElementById("root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.5e060c88.chunk.js.map